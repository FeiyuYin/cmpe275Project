<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form" %>
<%@ taglib uri="http://www.springframework.org/tags" prefix="spring" %>
 
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<!-- saved from url=(0032)http://localhost:8000/lab3/home# -->
<html lang="en" data-scribe-reduced-action-queue="true"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    
    
    
    
    
    
    <meta charset="utf-8">
    
    
  
  
  

    <link rel="stylesheet" href="https://abs.twimg.com/a/1417027384/css/t1/twitter_core.bundle.css">


      <title>Mini Social</title>
    


<meta name="msapplication-TileImage" content="//abs.twimg.com/favicons/win8-tile-144.png">
<meta name="msapplication-TileColor" content="#00aced">

  


  <meta name="swift-page-name" id="swift-page-name" content="home">

  
  


  


<link rel="search" type="application/opensearchdescription+xml" href="https://twitter.com/opensearch.xml" title="Twitter">
        <link rel="stylesheet" href="https://abs.twimg.com/a/1417027384/css/t1/twitter_more_1.bundle.css" charset="utf-8"><link rel="stylesheet" href="https://abs.twimg.com/a/1417027384/css/t1/twitter_more_2.bundle.css" charset="utf-8"><link id="async-css-placeholder">
      
<style id="user-style-Feiyu14">





  a,
  a:hover,
  a:focus,
  a:active {
    color: #0084B4;
  }

  .u-textUserColor,
  .u-textUserColorHover:hover,
  .u-textUserColorHover:focus {
    color: #0084B4 !important;
  }

  .u-borderUserColor,
  .u-borderUserColorHover:hover,
  .u-borderUserColorHover:focus {
    border-color: #0084B4 !important;
  }

  .u-bgUserColor,
  .u-bgUserColorHover:hover,
  .u-bgUserColorHover:focus {
    background-color: #0084B4 !important;
  }

  .u-boxShadowInsetUserColorHover:hover,
  .u-boxShadowInsetUserColorHover:focus {
    box-shadow: inset 0 0 0 5px #0084B4 !important;
  }



  .u-textUserColorLight {
    color: #99CDE1 !important;
  }

  .u-borderUserColorLight,
  .u-borderUserColorLightFocus:focus,
  .u-borderUserColorLightHover:hover,
  .u-borderUserColorLightHover:focus {
    border-color: #99CDE1 !important;
  }

  .u-bgUserColorLight {
    background-color: #99CDE1 !important;
  }


  .u-boxShadowUserColorLighterFocus:focus {
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.05), inset 0 1px 2px rgba(0,132,180,0.25) !important;
  }


  .u-textUserColorLightest {
    color: #E5F2F7 !important;
  }

  .u-borderUserColorLightest {
    border-color: #E5F2F7 !important;
  }

  .u-bgUserColorLightest {
    background-color: #E5F2F7 !important;
  }


  .u-textUserColorLighter {
    color: #BFE0EC !important;
  }

  .u-borderUserColorLighter {
    border-color: #BFE0EC !important;
  }

  .u-bgUserColorLighter {
    background-color: #BFE0EC !important;
  }


  .u-bgUserColorDarkHover:hover {
    background-color: #006990 !important;
  }

  .u-borderUserColorDark {
    border-color: #006990 !important;
  }


  .u-bgUserColorDarkerActive:active {
    background-color: #004F6C !important;
  }















a,
.btn-link,
.btn-link:focus,
.icon-btn,



.pretty-link b,
.pretty-link:hover s,
.pretty-link:hover b,
.pretty-link:focus s,
.pretty-link:focus b,
/* Account Group */
.metadata a:hover,
.metadata a:focus,

.account-group:hover .fullname,
.account-group:focus .fullname,
.account-summary:focus .fullname,

.message .message-text a,
.stats a strong,
.plain-btn:hover,
.plain-btn:focus,
.dropdown.open .user-dropdown.plain-btn,
.open > .plain-btn,
#global-actions .new:before,
.module .list-link:hover,
.module .list-link:focus,

.UserCompletion-step:hover,

.stats a:hover,
.stats a:hover strong,
.stats a:focus,
.stats a:focus strong,

.profile-modal-header .fullname a:hover,
.profile-modal-header .username a:hover,
.profile-modal-header .fullname a:focus,
.profile-modal-header .username a:focus,

.story-article:hover .metadata,
.story-article .metadata a:focus,

.find-friends-sources li:hover .source,





.stream-item a:hover .fullname,
.stream-item a:focus .fullname,

.stream-item .view-all-supplements:hover,
.stream-item .view-all-supplements:focus,

.tweet .time a:hover,
.tweet .time a:focus,
.tweet .details.with-icn b,
.tweet .details.with-icn .Icon,
.tweet .tweet-geo-text a:hover,

.stream-item:hover .original-tweet .expand-action-wrapper,
.stream-item .original-tweet.focus .expand-action-wrapper,
.opened-tweet.original-tweet  .expand-action-wrapper,

.stream-item:hover .original-tweet .details b,
.stream-item .original-tweet.focus .details b,
.stream-item.open .original-tweet .details b,

.simple-tweet:hover .details b,
.simple-tweet.focus .details b,
.simple-tweet.open .details b,
.simple-tweet:hover .details .expand-action-wrapper,
.simple-tweet.focus .details .expand-action-wrapper,
.simple-tweet.open .details .collapse-action-wrapper,
.simple-tweet:hover .details .simple-details-link,
.simple-tweet.focus .details .simple-details-link,

.client-and-actions a:hover,
.client-and-actions a:focus,

.dismiss-promoted:hover b,

.tweet .context .pretty-link:hover s,
.tweet .context .pretty-link:hover b,
.tweet .context .pretty-link:focus s,
.tweet .context .pretty-link:focus b,

.list .username a:hover,
.list .username a:focus,
.list-membership-container .create-a-list,
.list-membership-container .create-a-list:hover,



.story-header:hover .view-tweets,
.card .list-details a:hover,
.card .list-details a:focus,
.card .card-body:hover .attribution,
.card .card-body .attribution:focus,
.events-card .card-body:hover .attribution,
.events-card .card-body .attribution:focus,
.new-tweets-bar,
.onebox .soccer ul.ticker a:hover,
.onebox .soccer ul.ticker a:focus,



.discover-item-actions a,



.remove-background-btn,



.stream-item-activity-me .latest-tweet .tweet-row a:hover,
.stream-item-activity-me .latest-tweet .tweet-row a:focus,
.stream-item-activity-me .latest-tweet .tweet-row a:hover b,
.stream-item-activity-me .latest-tweet .tweet-row a:focus b {
    color: #0084B4;
}



  #global-actions > li > a {
    border-bottom-color: #0084B4;
  }

  #global-actions > li:hover > a,
  #global-actions > li > a:focus,
  .nav.right-actions > li > a:hover,
  .nav.right-actions > li > button:hover,
  .nav.right-actions > li > a:focus,
  .nav.right-actions > li > button:focus {
    color: #0084B4;
  }

  /* Surpress the new connect glow if in experiment. */
   #global-actions .people.new:before {
     content: none;
   }

  /* hover state for photo select button*/
  .photo-selector:not(.disabled):hover .btn,
  .icon-btn:hover,
  .icon-btn:active,
  .icon-btn.active,
  .icon-btn.enabled {
    border-color: #0084B4;
    border-color: rgba(0,132,180,.5);
    color: #0084B4;
  }

  /* hover state for photo select button*/
  .photo-selector:not(.disabled):hover .btn,
  .icon-btn:hover {
    background-image: linear-gradient(rgba(255,255,255,0), rgba(0,132,180,.1));
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00FFFFFF', endColorstr='#190084B4'); /* IE8-9 */
  }

  .icon-btn.disabled,
  .icon-btn.disabled:hover,
  .icon-btn[disabled],
  .icon-btn[aria-disabled=true] {
    color: #0084B4;
  }

  /* tweet-btn can have primary-btn class as well so the following rules ensure that the correct background color is applied */
  .tweet-btn,
  .tweet-btn:focus {
    background-color: #0084B4;
    background: rgba(0,132,180,.8);
  }

  .tweet-btn:hover,
  .tweet-btn:active,
  .tweet-btn.active {
    background-color: #0084B4;
  }

  .tweet-btn.btn.disabled,
  .tweet-btn.btn.disabled:hover,
  .tweet-btn.btn[disabled],
  .tweet-btn.btn[aria-disabled=true] {
    background: #0084B4;
  }

  .btn:focus,
  .btn.focus,
  .Button:focus {
    box-shadow:
      0 0 0 1px #fff,
      0 0 0 3px rgba(0, 132, 180, 0.5);
  }

  .selected-stream-item:focus {
    box-shadow: 0 0 0 3px rgba(0, 132, 180, 0.5);
  }

  /* highlighting when navigate through timeline stream table view with j & k. */
  .js-navigable-stream.stream-table-view .selected-stream-item[tabindex="-1"]:focus {
    outline: 3px solid rgba(0, 132, 180, 0.5) !important;
  }

  /* box-shadow does not work with table tr element */
  .js-navigable-stream.stream-table-view .selected-stream-item:focus {
    box-shadow: none;
  }

  /**
   * 1. Bring actionable tweet to top when active to ensure border
   *    highlighting wraps entire tweet. Value must be at least at if not
   *    higher than the z-index value of ProfileHeading to ensure first
   *    tweet in timeline receives border on all four sides.
   *    NOTE: z-index should be 2 to avoid conflicts with .ProfileCanopy and .ProfileCard-avatarLink
   */

  .ProfileTweet.is-actionable,
  .js-stream-item.is-selected:focus .ProfileTweet,
  .js-stream-item.is-selected:focus .ProfileCard,
  .QuoteTweet:hover,
  .QuoteTweet:focus,
  .QuoteTweet:active {
    border-color: rgba(0, 132, 180, 0.5);
    z-index: 2; /* 1 */
  }

  .global-dm-nav.new.with-count .dm-new {
    background: #fff;
  }

  .global-dm-nav.new.with-count .dm-new .count-inner {
    background: #0084B4;
  }

  .global-nav .people .count .count-inner {
    background: #0084B4;
  }

  .dropdown-menu li > a:hover,
  .dropdown-menu li > a:focus,
  .dropdown-menu .dropdown-link:hover,
  .dropdown-menu .dropdown-link:focus,
  .dropdown-menu .dropdown-link.is-focused,
  .dropdown-menu li:hover .dropdown-link,
  .dropdown-menu li:focus .dropdown-link,
  .dropdown-menu .typeahead-recent-search-item.selected,
  .dropdown-menu .typeahead-saved-search-item.selected,
  .dropdown-menu .selected a,
  .dropdown-menu .dropdown-link.selected {
    background-color: #0084B4;
  }

/* give tweet boxes 10% of the users link color as background */
.home-tweet-box,
.dm-tweetbox,
.WebToast-box--altColor,
.content-main .conversations-enabled .expansion-container .inline-reply-tweetbox {
  background-color: #E5F2F7;
}

.conversations-enabled .inline-reply-caret .caret-inner {
  border-bottom-color: #E5F2F7;
}
.top-timeline-tweetbox .timeline-tweet-box .tweet-form.condensed .tweet-box {
  color: #0084B4;
}
/* give tweet box containers an outline using the users link color */
.home-tweet-box,
.top-timeline-tweetbox .timeline-tweet-box {
  border-color: #BFE0EC !important;
}
/* give tweet boxes an outline using the users link color */
.tweet-box[contenteditable="true"] {
  border-color: rgba(0,132,180,0.25);
}

input:focus,
textarea:focus,
div[contenteditable="true"]:focus,
div[contenteditable="true"].fake-focus {
  border-color: #66B5D2;
  box-shadow: inset 0 0 0 1px rgba(0, 132, 180, 0.7);
}

.currently-dragging.modal-enabled .modal .tweet-box,
.currently-dragging:not(.modal-enabled) .tweet-content .tweet-box,
.tweet-box[contenteditable="true"]:focus {
  border-color: #99CDE1;
  box-shadow: none;
}




s,
.pretty-link:hover s,
.pretty-link:focus s,
.stream-item-activity-me .latest-tweet .tweet-row a:hover s,
.stream-item-activity-me .latest-tweet .tweet-row a:focus s {
    color: #66B5D2;
}



.vellip,
.vellip:before,
.vellip:after,
.conversation-module > li:after,
.conversation-module > li:before {
    background-color: #66B5D2;
}




.tweet .sm-reply,
.tweet .sm-rt,
.tweet .sm-fav,
.tweet .sm-image,
.tweet .sm-video,
.tweet .sm-audio,
.tweet .sm-geo,
.tweet .sm-in,
.tweet .sm-trash,
.tweet .sm-more,
.tweet .sm-page,
.tweet .sm-embed,
.tweet .sm-summary,
.tweet .sm-chat,

.timelines-navigation .active .profile-nav-icon,
.timelines-navigation .profile-nav-icon:hover,
.timelines-navigation .profile-nav-link:focus .profile-nav-icon,

.sm-top-tweet,

.metadata a.tweet-geo-text:hover .sm-geo,


.discover-item .js-action-card-search:hover .sm-search,
.discover-item .js-action-card-search:focus .sm-search {
    background-color: #0084B4;
}

.enhanced-mini-profile .mini-profile .profile-summary {
  background-image: url(https://abs.twimg.com/a/1417027384/img/t1/grey_header_web.jpg);
}

.wrapper-profile .profile-card.profile-header .profile-header-inner {
  background-image: url(https://abs.twimg.com/a/1417027384/img/t1/grey_header_web.jpg);
}

  #global-tweet-dialog .modal-header {
    border-bottom: solid 1px rgba(0, 132, 180, .25);
  }

  #global-tweet-dialog .modal-tweet-form-container {
    background-color: #0084B4;
    background: rgba(0, 132, 180, .1);
  }

  .inline-reply-tweetbox {
    background-color: #E5F2F7;
  }

</style>

  
<style id="user-style-Feiyu14-bg-img" class="js-user-style-bg-img">
  body.user-style-Feiyu14 {
        background-image: url(https://abs.twimg.com/images/themes/theme1/bg.png);
      background-position: left 40px;
      background-attachment: fixed;
      background-repeat: repeat;
        background-repeat: no-repeat;

      background-color: #C0DEED;
  }

    body.user-style-Feiyu14 .enhanced-mini-profile .mini-profile .profile-summary {
      background-image: url(https://abs.twimg.com/a/1417027384/img/t1/grey_header_web.jpg);
    }

    body.user-style-Feiyu14 .wrapper-profile .profile-card.profile-header .profile-header-inner {
      background-image: url(https://abs.twimg.com/a/1417027384/img/t1/grey_header_web.jpg);
    }


    body.user-style-Feiyu14 .profile-canopy .bg-img {
      background-image: url(https://abs.twimg.com/a/1417027384/img/t1/grey_header_web_retina.jpg);
    }

</style>



  <style type="text/css" id="deleted-direct-messages"></style></head>
  <body class="three-col logged-in user-style-Feiyu14 enhanced-mini-profile supports-drag-and-drop" data-fouc-class-names="swift-loading" dir="ltr">
      
    <div id="doc" class="route-home">
        

        <div id="page-outer">
          <div id="page-container" class="AppContent wrapper wrapper-home">
              





            <div class="dashboard dashboard-left home-exp-tweetbox">

        <div class="DashboardProfileCard  module">

    <font color="black">Hi ${user} &nbsp;</font></a><a href="/lab3/logout">Log out here.&nbsp;&nbsp;</a> <a href = "/lab3/settings">Settings</a>
    

    <div class="DashboardProfileCard-content">

        
          

      

          <div class="DashboardProfileCard-stats">
    <ul class="DashboardProfileCard-statList Arrange Arrange--bottom Arrange--equal"><li class="DashboardProfileCard-stat Arrange-sizeFit">
          <span class="DashboardProfileCard-statLabel u-block">Posts</span>
          <span class="DashboardProfileCard-statValue" data-is-compact="false">${postsnum}</span>
        </a>
      </li>
      <li class="DashboardProfileCard-stat Arrange-sizeFit">
            <span class="DashboardProfileCard-statLabel u-block">Friends</span>
            <span class="DashboardProfileCard-statValue" data-is-compact="false">${friendsnum}</span>
          </a>
        </li>
    </ul>
  </div>
  <div>
  Pending Requests:<br>
  <c:forEach var="e" items="${requests}">
  Request from: ${e.getRequester().getEmail()} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href = "/lab3/accept/?requesterEmail=${e.getRequester().getEmail()}">Accept&nbsp;&nbsp;&nbsp;&nbsp;<a href = "/lab3/reject/?requesterEmail=${e.getRequester().getEmail()}">Reject <br>
  </c:forEach>
  </div>

    </div>
  </div>


</div>


<div role="main" aria-labelledby="content-main-heading" class="content-main top-timeline-tweetbox" id="timeline">

      

    <div class="timeline-tweet-box">
      <div class="home-tweet-box tweet-box component tweet-user">
          <form class="t1-form tweet-form
        condensed
        " method="post" action="http://localhost:8000/lab3/post">
       Make a Post <input id="content" type="text" autocomplete="off" value="" name="content" maxlength="400" aria-required="true" class="">
</form>

      </div>
    </div>
  
    <div class="stream-container conversations-enabled persistent-inline-actions light-inline-actions" data-max-position="537795696838320129" data-min-position="537618819360227328">

      

    <div class="stream home-stream">
        <ol class="stream-items js-navigable-stream" id="stream-items-id">
            <li class="js-stream-item stream-item stream-item expanding-stream-item cards-forward
" data-item-id="535490227326840832" id="stream-item-tweet-535490227326840832" data-item-type="tweet">
    <ol role="presentation" class="expanded-conversation expansion-container js-expansion-container js-navigable-stream">
    <c:forEach var="e" items="${posts}">
    <li role="presentation" class="original-tweet-container">
   
  <div class="tweet original-tweet js-stream-tweet js-actionable-tweet js-profile-popup-actionable js-original-tweet   
 promoted-tweet


 has-cards

 mf-website

" data-tweet-id="535490227326840832" data-impression-id="77677d64c56bfd28" data-disclosure-type="promoted" data-item-id="535490227326840832" data-screen-name="relateiq" data-name="RelateIQ" data-user-id="358013667" data-promoted="true" data-advertiser-id="358013667" data-has-cards="true" data-card2-type="promo_website" data-expanded-footer="&lt;div class=&quot;js-tweet-details-fixer tweet-details-fixer&quot;&gt;



    &lt;div class=&quot;entities-media-container js-media-container&quot; style=&quot;min-height:0px&quot;&gt;
    &lt;/div&gt;

  &lt;div class=&quot;js-machine-translated-tweet-container&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;js-tweet-stats-container tweet-stats-container &quot;&gt;
    &lt;/div&gt;

  &lt;div class=&quot;client-and-actions&quot;&gt;
  &lt;span class=&quot;metadata&quot;&gt;
    &lt;span&gt;9:49 AM - 20 Nov 2014&lt;/span&gt;

       &amp;middot; &lt;a class=&quot;permalink-link js-permalink js-nav&quot; href=&quot;/relateiq/status/535490227326840832&quot; data-impression-cookie=&quot;[&amp;quot;535490227326840832&amp;quot;,&amp;quot;77677d64c56bfd28&amp;quot;,&amp;quot;promoted&amp;quot;,&amp;quot;&amp;quot;,[],&amp;quot;358013667&amp;quot;]&quot; data-send-impression-cookie=&quot;true&quot; tabindex=&quot;-1&quot;&gt;Details&lt;/a&gt;
    


  &lt;/span&gt;
&lt;/div&gt;


&lt;/div&gt;
" data-impression-cookie="[&quot;535490227326840832&quot;,&quot;77677d64c56bfd28&quot;,&quot;promoted&quot;,&quot;&quot;,[],&quot;358013667&quot;]" data-you-follow="false" data-you-block="false">

    
    <div class="content">

      
      <div class="stream-item-header">
        
          <a data-impression-cookie="[&quot;358013667&quot;,&quot;77677d64c56bfd28&quot;,&quot;promoted&quot;,&quot;&quot;,[],&quot;358013667&quot;]" class="account-group js-account-group js-action-profile js-user-profile-link js-nav" href="https://twitter.com/relateiq" data-user-id="358013667">
    <strong class="fullname js-action-profile-name show-popup-with-id" data-aria-label-part="">${e.getPerson().getEmail()}</strong>
    <span></span><span class="username js-action-profile-name" data-aria-label-part=""><s></s><b></b></span>
    

  </a>

        <small class="time">
  <a href="https://twitter.com/relateiq/status/535490227326840832" class="tweet-timestamp js-permalink js-nav js-tooltip" title="9:49 AM - 20 Nov 2014" data-send-impression-cookie=""><span class="_timestamp js-short-timestamp " data-aria-label-part="last" data-time="1416505793" data-time-ms="1416505793000" data-long-form="true">${e.getDate()}</span></a>
</small>
  
      </div>
        <p class="js-tweet-text tweet-text" lang="en" data-aria-label-part="0">${e.getContent()} </p>

          <div class="card2 js-media-container" data-card2-name="promo_website">

  
<div class="stream-item-footer">
      
        
  <div role="group" aria-label="Tweet actions" class="ProfileTweet-actionList u-cf js-actions">
  
  <div class="ProfileTweet-action ProfileTweet-action--reply">
    <button class="ProfileTweet-actionButton u-textUserColorHover js-actionButton js-actionReply js-tooltip" data-modal="ProfileTweet-reply" type="button" data-original-title="Reply">
      <span class="Icon Icon--reply"></span>
      <span class="u-hiddenVisually">Reply</span>
        <span class="ProfileTweet-actionCount u-textUserColorHover ProfileTweet-actionCount--isZero">
          <span class="ProfileTweet-actionCountForPresentation" aria-hidden="true">${e.getCommetns()}</span>
        </span>
    </button>
  </div>

  <div class="ProfileTweet-action ProfileTweet-action--favorite js-toggleState">
    <button class="ProfileTweet-actionButton js-actionButton js-actionFavorite js-tooltip" title="Favorite" type="button">
      <span class="Icon Icon--favorite"></span>
      <span class="u-hiddenVisually">Favorite</span>
        <span class="ProfileTweet-actionCount">
            <span class="ProfileTweet-actionCountForPresentation" aria-hidden="true">${e.getLikes()}</span>
        </span>
    </button>
  </div>
</div>


</div>
    </div>
  </div>
    </div></li>
    </c:forEach>
</ol>
</li>

</ol>
        


    </div>
  </div>
    



</div>

  <div class="dashboard dashboard-right">
  <div class="module roaming-module wtf-module js-wtf-module  has-content">

  <div class="flex-module">

    <div class="flex-module-header">
      <h3>Your Friends:</h3>
      
      
      
    </div>

    <div class="js-recommended-followers dashboard-user-recommendations flex-module-inner" data-section-id="wtf" style="opacity: 1;">  

<c:forEach var = "e" items = "${friends}">
  <div class="js-account-summary account-summary js-actionable-user " data-user-id="245460742" data-feedback-token="117" data-impression-id="">
  
  <div class="content">
              <b class="fullname">${e.getEmail()} &nbsp;&nbsp;&nbsp;</b> <a href = "/lab3/remove/?id=${e.getId()}">Remove</a>



    <small class="metadata social-context">
    </small>
  </div>
</div>
</c:forEach>

</div>

  </div>
  <form action = "/lab3/add" method = "POST">
    <div class="flex-module import-prompt">
      <div class="flex-module-footer u-table">
          <span class="Icon Icon--follower Icon--large"></span>
        </a>
        Find people you know:
       <input id="newfriend" type="text" autocomplete="off" value="" name="newfriend" maxlength="400" aria-required="true" class="">
       <button class="btn btn-lg btn-primary btn-block" type="submit">Add</button>
        <font color = "red">${addpersonerror}</font>
      </div>
  </div>
  </form>

</div></div>

          </div>
        </div>
      
    </div>
    

</body></html>